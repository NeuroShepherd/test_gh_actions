name: just-learning

on: workflow_dispatch

jobs:
  use_commits:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: create new branch
        run: |
          git checkout -b testing_branch
          git pull -X theirs
      - name: add content
        run: |
          [[-f sometext.txt]] | touch sometext.txt
          echo "hello world">sometext.txt
          git config user.name github-actions
          git config user.email github-actions@github.com
          git add -A
          git commit -m "some text lol"
      - name: push new branch
      # note that git push --set-upstream origin XXX will only work when
      # pushing a branch to remote the first time, but fails thereafter so
      # create branch on remote first and just use git push on the action
        run: |
          git push
